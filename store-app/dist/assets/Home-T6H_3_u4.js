import{j as e,L as m,r as o}from"./index-CP7M10pe.js";const p=({product:s})=>{var a,c;return e.jsxs(m,{to:`/product/${s.id}`,className:"card",children:[e.jsx("img",{src:s.image,alt:s.title}),e.jsx("h2",{children:s.title}),e.jsxs("p",{children:["$",s.price]}),e.jsxs("p",{className:"rating",children:["⭐ ",(a=s.rating)==null?void 0:a.rate," (",(c=s.rating)==null?void 0:c.count,")"]})]})},x=()=>{const[s,a]=o.useState([]),[c,d]=o.useState([]),[l,h]=o.useState("all");o.useEffect(()=>{const t=async()=>{try{const i=await(await fetch("https://fakestoreapi.com/products")).json();a(i)}catch(r){console.error("Error fetching products:",r)}},g=async()=>{try{const i=await(await fetch("https://fakestoreapi.com/products/categories")).json();d(i)}catch(r){console.error("error fetching categories",r)}};t(),g()},[]);const n=l==="all"?s:s.filter(t=>t.category===l);return e.jsxs("div",{className:"home-container",children:[e.jsx("h1",{className:"home-title",children:"🛒Welcome to Product Store "}),e.jsx("p",{className:"home-subtitle",children:"Browse products by category or explore them all"}),e.jsxs("div",{className:"category-filter-container",children:[e.jsx("label",{htmlFor:"category-select",className:"category-label",children:"Filter by Category:"}),e.jsxs("select",{id:"category-select",value:l,onChange:t=>h(t.target.value),className:"category-select",children:[e.jsx("option",{value:"all",children:"All Categories"}),c.map(t=>e.jsx("option",{value:t,children:t.charAt(0).toUpperCase()+t.slice(1)},t))]})]}),e.jsx("div",{className:"product-grid",children:n.length>0?n.map(t=>e.jsx(p,{product:t},t.id)):e.jsx("p",{className:"no-products",children:"No products found in thsi category."})})]})};export{x as default};
